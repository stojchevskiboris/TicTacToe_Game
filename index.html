<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tic Tac Toe Game</title>
    <link rel="icon" type="image" href="https://cdn-icons-png.flaticon.com/128/2911/2911156.png">

    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <style>
        body{
            background: #cff1ff;

        }
        #game{
            padding-top: 30px;
            margin: auto;
            width: 550px;
            text-align-last: center;

        }
        #headLine{
            font-family: monospace;
            font-size: 50px;
            font-weight: bold;
            color: royalblue;
        }
        .cell{
            border: 2px solid grey;
            width: 160px;
            height: 160px;
            display: inline-block;
        }
        .cell:hover{
            border-color: blue;
        }
        .optX{
            background-image: url("https://icon-library.com/images/cross-icon/cross-icon-29.jpg");
            background-size: cover;
            background-repeat: no-repeat;
        }
        .optO{
            background-image: url("https://icon-library.com/images/create-an-icon/create-an-icon-25.jpg");
            background-size: cover;
            background-repeat: no-repeat;
        }
        .selected{
            pointer-events: none;
        }
        #youWon{
            color: limegreen;
            display: none;
        }
        #player{
            font-size: 40px;
            font-family: monospace;

        }
        #draw{
            display: none;
            font-size: 40px;
            color: orange;
            font-family: monospace;
        }
        #start{
            font-size: 40px;
            border-radius: 10px;
            background: #b9ffb9;
            font-family: monospace;
        }
        #start:hover{
            background: #7af57a;
        }
        #git{
            font-family: monospace;
        }
    </style>
    <script>
        $(document).ready(function (){
            $("#start").click(function (){
                location.reload()
            })
            //player one X 1
            //player two O 2
            var turn = 1;
            var totalTurns = 0;
            var c1=11,c2=12,c3=13,c4=14,c5=15,c6=16,c7=17,c8=18,c9=19;

            function endGame(){
                $("#c1").addClass("selected")
                $("#c2").addClass("selected")
                $("#c3").addClass("selected")
                $("#c4").addClass("selected")
                $("#c5").addClass("selected")
                $("#c6").addClass("selected")
                $("#c7").addClass("selected")
                $("#c8").addClass("selected")
                $("#c9").addClass("selected")
                $("#yourTurn").css('display','none')
                $("#youWon").css('display','inline-block')
            }

            function check(){
                if( (c1==c2&&c1==c3) || (c1==c4&&c1==c7) || (c1==c5&&c1==c9)  || (c2==c5&&c2==c8)  || (c3==c6&&c3==c9)  || (c3==c5&&c3==c7)  || (c4==c5&&c4==c6)  || (c7==c8&&c7==c9) ){
                    endGame();
                    return
                }
                if (turn==1){
                    document.getElementById("turn").innerText="1"
                } else {
                    document.getElementById("turn").innerText="2"
                }
                if (totalTurns==9){
                    $("#player").css('display','none')
                    $("#draw").css('display','block')
                }
            }

            function detectMob() {
                const toMatch = [
                    /Android/i,
                    /webOS/i,
                    /iPhone/i,
                    /iPad/i,
                    /iPod/i,
                    /BlackBerry/i,
                    /Windows Phone/i
                ];

                return toMatch.some((toMatchItem) => {
                    return navigator.userAgent.match(toMatchItem);
                });
            }

            if (detectMob()){
                $("#c1").on('touchstart', function (){
                    if (turn==1){
                        $("#c1").addClass("optX selected")
                        c1=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c1").addClass("optO selected")
                        c1=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c2").on('touchstart', function (){
                    if (turn==1){
                        $("#c2").addClass("optX selected")
                        c2=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c2").addClass("optO selected")
                        c2=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c3").on('touchstart', function (){
                    if (turn==1){
                        $("#c3").addClass("optX selected")
                        c3=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c3").addClass("optO selected")
                        c3=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c4").on('touchstart', function (){
                    if (turn==1){
                        $("#c4").addClass("optX selected")
                        c4=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c4").addClass("optO selected")
                        c4=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c5").on('touchstart', function (){
                    if (turn==1){
                        $("#c5").addClass("optX selected")
                        c5=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c5").addClass("optO selected")
                        c5=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c6").on('touchstart', function (){
                    if (turn==1){
                        $("#c6").addClass("optX selected")
                        c6=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c6").addClass("optO selected")
                        c6=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c7").on('touchstart', function (){
                    if (turn==1){
                        $("#c7").addClass("optX selected")
                        c7=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c7").addClass("optO selected")
                        c7=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c8").on('touchstart', function (){
                    if (turn==1){
                        $("#c8").addClass("optX selected")
                        c8=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c8").addClass("optO selected")
                        c8=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c9").on('touchstart', function (){
                    if (turn==1){
                        $("#c9").addClass("optX selected")
                        c9=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c9").addClass("optO selected")
                        c9=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
            } else {
                $("#c1").mousedown(function (){
                    if (turn==1){
                        $("#c1").addClass("optX selected")
                        c1=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c1").addClass("optO selected")
                        c1=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c2").mousedown(function (){
                    if (turn==1){
                        $("#c2").addClass("optX selected")
                        c2=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c2").addClass("optO selected")
                        c2=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c3").mousedown(function (){
                    if (turn==1){
                        $("#c3").addClass("optX selected")
                        c3=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c3").addClass("optO selected")
                        c3=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c4").mousedown(function (){
                    if (turn==1){
                        $("#c4").addClass("optX selected")
                        c4=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c4").addClass("optO selected")
                        c4=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c5").mousedown(function (){
                    if (turn==1){
                        $("#c5").addClass("optX selected")
                        c5=1;
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c5").addClass("optO selected")
                        c5=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c6").mousedown(function (){
                    if (turn==1){
                        $("#c6").addClass("optX selected")
                        c6=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c6").addClass("optO selected")
                        c6=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c7").mousedown(function (){
                    if (turn==1){
                        $("#c7").addClass("optX selected")
                        c7=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c7").addClass("optO selected")
                        c7=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c8").mousedown(function (){
                    if (turn==1){
                        $("#c8").addClass("optX selected")
                        c8=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c8").addClass("optO selected")
                        c8=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
                $("#c9").mousedown(function (){
                    if (turn==1){
                        $("#c9").addClass("optX selected")
                        c9=1
                        turn = 2;
                        totalTurns++;
                    } else {
                        $("#c9").addClass("optO selected")
                        c9=2
                        turn = 1;
                        totalTurns++;
                    }
                    check();
                })
            }
        })
    </script>
</head>
<body>

<div id="game">
    <p id="headLine">Tic-Tac-Toe Game</p>
    <div class="row">
        <div class="cell" id="c1"></div>
        <div class="cell" id="c2"></div>
        <div class="cell" id="c3"></div>
    </div>
  <div class="row">
        <div class="cell" id="c4"></div>
        <div class="cell" id="c5"></div>
        <div class="cell" id="c6"></div>
  </div>
  <div class="row">
        <div class="cell" id="c7"></div>
        <div class="cell" id="c8"></div>
        <div class="cell" id="c9"></div>
  </div>
    <br><br>


    <div id="player">Player <span id="turn">1</span>, <span id="yourTurn">your turn</span><span id="youWon">you won.</span> </div>
    <div id="draw">Draw</div>

    <br><br><br>
    <button id="start">NEW GAME</button>
    <br><br><br><br>
    <p id="git">&copy; Made by: <a href="https://github.com/stojchevskiboris">Boris Stojchevski</a> </p>
</div>

</body>
</html>